@using schoolGlobalization.Components.Shared
@using Microsoft.Extensions.Localization
@using System.Globalization
@inherits LayoutComponentBase
@inject IStringLocalizer<Resources.SharedResource> Localizer

@{
    var isRtl = CultureInfo.CurrentCulture.Name.StartsWith("ar");
    var dir = isRtl ? "rtl" : "ltr";
}

<div class="page @(isRtl ? "rtl" : "")" dir="@dir">
    <div class="sidebar">
        <NavMenu/>
    </div>

    <main>
        <div class="top-row px-4">
            <a href="https://learn.microsoft.com/aspnet/core/" target="_blank">About</a>
        </div>

        <article class="content px-4">
            @Body
            <CultureSelector/>
        </article>
    </main>
</div>

<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">🗙</span>
</div>

<style>
    /* RTL specific styles */
    .page.rtl {
        text-align: right;
    }
    
    .page.rtl .sidebar {
        left: auto;
        right: 0;
    }
    
    .page.rtl main {
        margin-left: 0;
        margin-right: 250px;
    }
    
    .page.rtl .top-row {
        padding-left: 1.5rem !important;
        padding-right: 3.5rem !important;
    }
    
    @@media (max-width: 640.98px) {
        .page.rtl main {
            margin-right: 0;
        }
    }
</style>